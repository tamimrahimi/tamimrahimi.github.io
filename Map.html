<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        #zest-map
        {
            height: 99%;
            width: 99%;
            position: absolute;
        }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBk5FKQA-_TLledOKe2SX4igTSvoLh-pb4&libraries=places"></script>
</head>
<body>
<div id="zest-map"></div>

<script>
    var _viewModel = null;
    var _map = null;
    var faceOverlays = [];

    window.addEventListener('message', (event) => {
        if(event.data.jsonFaceOverlay) {
            var parseFaceOverlay = JSON.parse(event.data.jsonFaceOverlay);
            faceOverlays.push(parseFaceOverlay);
        }
    });

    // function parseRefJSON(json) {
    //     let objToPath = new Map();
    //     let pathToObj = new Map();
    //     let o = JSON.parse(json);
    //     let traverse = (parent, field) => {
    //         let obj = parent;
    //         let path = '#REF:$';
    //         if (field !== undefined) {
    //             obj = parent[field];
    //             path = objToPath.get(parent) + (Array.isArray(parent) ? `[${field}]` : `${field?'.'+field:''}`);
    //         }
    //         objToPath.set(obj, path);
    //         pathToObj.set(path, obj);
    //         let ref = pathToObj.get(obj);
    //         if (ref) parent[field] = ref;
    //         for (let f in obj) if (obj === Object(obj)) traverse(obj, f);
    //     }
    //     traverse(o);
    //     return o;
    // }

    function initMap() {
        var mapOptions = {
            center: new google.maps.LatLng(39.8282, -88.5795),
            zoom: 6,
            mapTypeControl: true,
            mapTypeControlOptions: {
                style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
                position: google.maps.ControlPosition.TOP_LEFT
            }
        };
        _map = new google.maps.Map(document.getElementById("zest-map"), mapOptions);
    }

    initMap();
</script>
</body>
</html>
